@using CityInformation.Models
@model CityInformation.Models.City

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Save</title>
    <link href="~/Content/bootstrap.css" rel="stylesheet" />
    <link href="~/Content/bootstrap-theme.css" rel="stylesheet" />
</head>
    <body>
        <ul class="list-inline">
            <li><a href=@Url.Action("Save","Country")>Country Entry</a></li>
            <li><a href=@Url.Action("Save","City")>City Entry</a></li>
            <li><a href=@Url.Action("Search","Country")>View Countries</a></li>
            <li><a href=@Url.Action("Search","City")>View Cities</a></li>
        </ul>
        @if (ViewBag.Msg != null)
        {
            <p class="alert-success">@ViewBag.Msg</p>
        }
        @using (Html.BeginForm()) 
        {
            @Html.AntiForgeryToken()
        
            <div class="form-horizontal">
                <h4>City</h4>
                <hr />
                @Html.ValidationSummary(true)
    
                <div class="form-group">
                    @Html.LabelFor(model => model.Name, new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.Name)
                        @Html.ValidationMessageFor(model => model.Name)
                    </div>
                </div>
    
                <div class="form-group">
                    @Html.LabelFor(model => model.About, new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.About)
                        @Html.ValidationMessageFor(model => model.About)
                    </div>
                </div>
    
                <div class="form-group">
                    @Html.LabelFor(model => model.NoOfDwellers, new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.NoOfDwellers)
                        @Html.ValidationMessageFor(model => model.NoOfDwellers)
                    </div>
                </div>
    
                <div class="form-group">
                    @Html.LabelFor(model => model.Location, new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.Location)
                        @Html.ValidationMessageFor(model => model.Location)
                    </div>
                </div>
    
                <div class="form-group">
                    @Html.LabelFor(model => model.Weather, new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.Weather)
                        @Html.ValidationMessageFor(model => model.Weather)
                    </div>
                </div>
    
                <div class="form-group">
                    @Html.Label("Country",new { @class= "control-label col-md-2"})
                    <div class="col-md-10">
                        <select name="CountryId">
                            @foreach (Country aCountry in ViewBag.Country)
                            {
                                <option value=@aCountry.Id>@aCountry.Name</option>
                            }
                        </select>
                    </div>
                </div>
    
                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <input type="submit" value="Create" class="btn btn-default" />
                    </div>
                </div>
            </div>
        }
        <table class=" table table-bordered">
            <tr>
                <td>
                    Serial No
                </td>
                <td>
                    Name
                </td>
              
                <td>
                    No of dwellers
                </td>
             
                <td>
                    Country
                </td>
            </tr>
            @{
                var serial = 1;
            }
            @foreach (City aCity in ViewBag.Cities)
            {
                <tr>
                    <td>
                        @serial
                    </td>
                    <td>
                    @aCity.Name
                    <td>
                        @aCity.NoOfDwellers
                    </td>
                    <td>
                        @aCity.ACountry.Name
                    </td>
                </tr>
                serial++;
            }
        </table>

        <script src="~/Scripts/jquery-2.1.3.js"></script>
        <script src="~/Scripts/jquery.validate.js"></script>
        <script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
    </body>
</html>
